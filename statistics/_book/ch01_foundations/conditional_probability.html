<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistics - Conditional Probability and Independence</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ch01_foundations/random_variables.html" rel="next">
<link href="../ch01_foundations/axioms.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>



<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>macros</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="macros_files/libs/clipboard/clipboard.min.js"></script>
<script src="macros_files/libs/quarto-html/quarto.js"></script>
<script src="macros_files/libs/quarto-html/popper.min.js"></script>
<script src="macros_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="macros_files/libs/quarto-html/anchor.min.js"></script>
<link href="macros_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="macros_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="macros_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="macros_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="macros_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent nav-sidebar floating">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<div class="hidden">
<p><span class="math display">\[
\newcommand{\mcal}[1]{\mathcal{#1}}
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\emp}{\varnothing}
\]</span></p>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->





  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>





<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ch01_foundations/axioms.html">Foundations</a></li><li class="breadcrumb-item"><a href="../ch01_foundations/conditional_probability.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Conditional Probability and Independence</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Statistics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Preface</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ch00_preface/preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ch01_foundations/axioms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Axioms of Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ch01_foundations/conditional_probability.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Conditional Probability and Independence</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ch01_foundations/random_variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Random variables</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Conditional Probability and Independence</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>It is often the case that we enter into an experiment with some external knowledge regarding its outcome. The idea of <em>conditioning</em> allows us to model this scenario within the framework of probability spaces.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Consider again flipping a coin twice in succession. We take <span class="math inline">\(\mcal{P}[S]\)</span> to be the <span class="math inline">\(\sigma\)</span>-algebra of events, and assume the coin is perfectly fair.</p>
<p>Without any conditioning, all four outcomes <span class="math inline">\(HH, HT, TH, TT\)</span> are equally likely with probability <span class="math inline">\(\frac{1}{4}\)</span>. However, suppose we run this experiment with <em>a priori</em> knowledge that at most one flip will turn up tails. In that case, the outcome <span class="math inline">\(TT\)</span> is impossible, but the remaining outcomes <span class="math inline">\(HH, HT, TH\)</span> are still possible and are equally likely. Therefore we can say that the probability of each outcome, conditioned on at most one flip turning up tails, is <span class="math inline">\(\frac{1}{3}\)</span>.</p>
</div>
</div>
<p>We now make the idea of conditioning on external knowledge precise.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition: Conditional probability
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> be events with <span class="math inline">\(\bb{P}[B] &gt; 0\)</span>. Then the <em>conditional probability</em> of <span class="math inline">\(A\)</span> given <span class="math inline">\(B\)</span>, denoted <span class="math inline">\(\bb{P}[A|B]\)</span>, is defined to be <span class="math display">\[
\bb{P}[A|B] = \frac{\bb{P}[A\cap B]}{\bb{P}[B]}.
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>We return to the previous example, this time looking to compute the conditional probability from the definition.</p>
<p>The event that at most one flip turns up tails is the set of outcomes excluding <span class="math inline">\(TT\)</span>, i.e.&nbsp;<span class="math inline">\(B = \{HH, HT, TH\}\)</span>. For a given single outcome, say <span class="math inline">\(A = \{HH\}\)</span>, we can then compute the probability of <span class="math inline">\(A\)</span> from the definition: <span class="math display">\[
\bb{P}[A|B] = \frac{\bb{P}[\{HH\}\cap\{HH, HT, TH\}]}{\bb{P}[\{HH, HT, TH\}]} = \frac{\bb{P}[\{HH\}]}{\bb{P}[\{HH, HT, TH\}]} = \frac{1/4}{3/4} = \frac{1}{3},
\]</span> in agreement with our earlier computation.</p>
</div>
</div>
<p>Fixing the event <span class="math inline">\(B\)</span> being conditioned on, it is possible to regard <span class="math inline">\(\bb{P}[\cdot|B]\)</span> as a probability measure in its own right. Namely:</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proposition:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\((S,\mcal{B},\bb{P})\)</span> be a probability space. Let <span class="math inline">\(B\in\mcal{B}\)</span> with <span class="math inline">\(\bb{P}[B] &gt; 0\)</span>. Define the <em>relative <span class="math inline">\(\sigma\)</span>-algebra</em> <span class="math display">\[
\mcal{B}_B = \{A\cap B: A\in\mcal{B}\},
\]</span> and for <span class="math inline">\(C_A = A\cap B\in\mcal{B}_B\)</span> define <span class="math display">\[
\bb{P}_B[C_A] = \bb{P}[A|B].
\]</span> Then <span class="math inline">\((B,\mcal{B}_B,\bb{P}_B)\)</span> is a probability space.</p>
</div>
</div>
<p>Thus the conditional probability <span class="math inline">\(\bb{P}[\cdot|B]\)</span> can be thought of as a version of the original probability measure <span class="math inline">\(\bb{P}\)</span>, where the sample space is reduced from <span class="math inline">\(S\)</span> to the event <span class="math inline">\(B\)</span> being conditioned on.</p>
<p>Rearranging the definition of conditional probability, we arrive at a simple but extremely far-reaching consequence:</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Theorem: (Bayes’ rule)
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> be events with <span class="math inline">\(\bb{P}[B] &gt; 0\)</span>. Then <span class="math display">\[
\bb{P}[A|B] = \frac{\bb{P}[B|A]\bb{P}[A]}{\bb{P}[B]}.
\]</span></p>
</div>
</div>
<p>Bayes’ rule is the foundation of what is known as Bayesian statistics, which interprets probability as the measure of the degree of subjective belief in a proposition. <span class="math inline">\(\bb{P}[A|B]\)</span> is referred to as the <em>posterior probability</em>, or just <em>posterior</em>, while <span class="math inline">\(\bb{P}[A]\)</span> is referred to as the <em>prior probability</em>, or just <em>prior</em>.</p>
<p>A way to interpret Bayes’ rule is to imagine that we are looking to determine the probability of an event <span class="math inline">\(A\)</span>. In the absence of any other information, the most reasonable candidate for the probability is simply <span class="math inline">\(\bb{P}[A]\)</span>. However, suppose we have access to additional information, such as an experimental observation, that restricts the range of possibilities in some way. Then we should update our estimate for the probability of <span class="math inline">\(A\)</span> according to this additional information. We represent this updated estimate of <span class="math inline">\(A\)</span> by conditioning on the new information <span class="math inline">\(B\)</span>, yielding the posterior <span class="math inline">\(\bb{P}[A|B]\)</span>. Bayes’ rule tells us how to incorporate the information in <span class="math inline">\(B\)</span> to update the prior <span class="math inline">\(\bb{P}[A]\)</span> to the posterior <span class="math inline">\(\bb{P}[A|B]\)</span>, with <span class="math display">\[
\frac{\bb{P}[B|A]}{\bb{P}[B]}
\]</span> quantifying how the information <span class="math inline">\(B\)</span> supports the occurrence of the outcome <span class="math inline">\(A\)</span>.</p>
<p>In some cases, the occurrence of an event <span class="math inline">\(B\)</span> has no impact on the probability of <span class="math inline">\(A\)</span>.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition: Independence
</div>
</div>
<div class="callout-body-container callout-body">
<p>We say that the events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are <em>(statistically) independent</em> if <span class="math inline">\(\bb{P}[A\cap B] = \bb{P}[A]\bb{P}[B]\)</span>.</p>
</div>
</div>
<p>From Bayes’ rule, an equivalent characterization of independence is <span class="math inline">\(\bb{P}[A|B] = \bb{P}[A]\)</span>, or <span class="math inline">\(\bb{P}[B|A] = \bb{P}[A]\)</span>, as long as these conditional probabilities are well-defined. There are considerations for how to define conditioning on events of probability <span class="math inline">\(0\)</span>, but we brush those issues under the rug. Our choice of definition emphasizes the symmetry between the events, and generalizes more easily.</p>
<p>Conditional probabilities and independence are notoriously tricky concepts, and there are many pitfalls of reasoning that one must be careful to avoid when working with them. We showcase a few examples to illustrate these ideas.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>The simplest way in which independence arises is when two events intrinsically have no impact on another. Let us consider again the example of flipping a fair coin twice in succession. Let <span class="math inline">\(A = \{\textnormal{the first flip is heads}\}\)</span> and let <span class="math inline">\(B = \{\textnormal{the second flip is heads}\}\)</span>. Assuming no external coupling between the two coins between the flips, clearly the occurrence of <span class="math inline">\(A\)</span> has no effect on the occurrence of <span class="math inline">\(B\)</span>, and vice versa. We verify that this also leads to these events being independent in the statistical sense. <span class="math inline">\(A\)</span> consists of the outcomes <span class="math inline">\(\{HH, HT\}\)</span>, while <span class="math inline">\(B\)</span> consists of <span class="math inline">\(\{HH, TH\}\)</span>. We thus compute: <span class="math display">\[
\bb{P}[A\cap B] = \bb{P}[\{HH\}] = \frac{1}{4},
\]</span> while <span class="math display">\[
\bb{P}[A]\bb{P}[B] = \frac{1}{2}\cdot\frac{1}{2} = \frac{1}{4}.
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Consider again flipping a fair coin twice in succession. Let <span class="math inline">\(A = \{\textnormal{the first flip is heads}\}\)</span> and let <span class="math inline">\(B = \{\textnormal{the second flip is heads}\}\)</span>, and let <span class="math inline">\(C = \{\textnormal{the first flip is equal to the second flip}\}\)</span>.</p>
<p>Then <span class="math inline">\(A\)</span> is independent of <span class="math inline">\(B\)</span>, <span class="math inline">\(B\)</span> is independent of <span class="math inline">\(C\)</span>, and <span class="math inline">\(C\)</span> is independent of <span class="math inline">\(A\)</span>; i.e.&nbsp;<span class="math inline">\(A,B,C\)</span> are <em>pairwise independent.</em> Intuitively this makes sense: <span class="math inline">\(C\)</span> only cares about the relationship between the first and second flips, and not about the rela</p>
<p>We check the independence claims. Observe that <span class="math inline">\(A = \{HH, HT\}\)</span>, <span class="math inline">\(B = \{HH, TH\}\)</span>, and <span class="math inline">\(C = \{HH,TT\}\)</span>. Thus <span class="math display">\[
\bb{P}[A\cap B] = \bb{P}[\{HH\}] = \frac{1}{4},
\]</span> while <span class="math display">\[
\bb{P}[A]\bb{P}[B] = \frac{1}{2}\cdot\frac{1}{2} = \frac{1}{4}.
\]</span> Proceeding likewise, we similarly verify the independence claims for the pairs <span class="math inline">\((B,C)\)</span> and <span class="math inline">\((C,A)\)</span>.</p>
<p>However, it is not true that <span class="math inline">\(C\)</span> and <span class="math inline">\(A\cap B\)</span> are independent. For <span class="math inline">\(A\cap B = \{HH\}\)</span>, and we compute: <span class="math display">\[
\bb{P}[A\cap B\cap C] = \bb{P}[\{HH\}] = \frac{1}{4},
\]</span> while <span class="math display">\[
\bb{P}[A\cap B]\bb{P}[C] = \frac{1}{4}\frac{1}{2} = \frac{1}{8}.
\]</span> Therefore we find that <span class="math display">\[
\bb{P}[A\cap B\cap C] \neq \bb{P}[A]\bb{P}[B]\bb{P}[C],
\]</span> i.e.&nbsp;<span class="math inline">\((A,B,C)\)</span> fail to be <em>mutually independent</em>, even though they are pairwise independent.</p>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition: Pairwise &amp; mutual independence
</div>
</div>
<div class="callout-body-container callout-body">
<p>We say that the finite collection of events <span class="math inline">\(\{A_j\}_{j=1}^N\)</span> is <em>pairwise independent</em> if <span class="math inline">\(A_j\)</span> and <span class="math inline">\(A_k\)</span> are independent for all <span class="math inline">\(j\neq k\)</span>. We say that <span class="math inline">\(\{A_j\}_{j=1}^N\)</span> is <em>mutually independent</em> if <span class="math display">\[
\bb{P}\left[ \bigcap_{j=1}^N A_j \right] = \prod_{j=1}^N \bb{P}[A_j].
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-important no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>The previous example shows that independence is a tricky business, and it is important to state assumptions carefully. Independence of events is <em>not</em> the same as the events having no relation to one another. We can see this with a slight change in the definition of <span class="math inline">\(A\)</span>. With <span class="math inline">\(A = \{\textnormal{the first flip is heads}\}\)</span> as before, we find that <span class="math inline">\(A\cap C = \{HH\}\)</span>. But with <span class="math inline">\(A = \{\textnormal{the first flip is tails}\}\)</span>, we find that <span class="math inline">\(A\cap C = \{TT\}\)</span>.</p>
<p>So the exact definition of <span class="math inline">\(A\)</span> does affect <em>how</em> <span class="math inline">\(C\)</span> can occur conditioned on <span class="math inline">\(A\)</span> <strong>at the set level.</strong> Independence, however, does not look at events at the set level; it only considers the <em>probabilities</em> of the events. From a viewpoint considering only the probabilities of events, <span class="math inline">\(A\cap C\)</span> always has probability <span class="math inline">\(\frac{1}{4}\)</span> regardless of our two possibly choices for <span class="math inline">\(A\)</span>.</p>
<p>From a frequentist’s point of view, a way to think about this is that we do not interact with experiments directly through events. The sample space is an abstract mathematical object that we cannot interact with directly. The probability measure, which we can observe emperically by performing repeated experimentation and counting frequencies of outcomes, is our only means of extracting information about the sample space. From that perspective, two events are independent if <em>we cannot establish a relationship between them through their frequencies of occurrence alone.</em> They may still be related in some way at the set level, but the existence of this relationship cannot be determined purely through repeated experimentation.</p>
<p>We summarize this discussion as follows:</p>
<blockquote class="blockquote">
<p>Independence only indicates the lack of a <em>statistically measurable</em> relationship between events, not the lack of a relationship altogether.</p>
</blockquote>
</div>
</div>
<p>We end with the following simple proposition, whose proof we leave to the reader.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Proposition:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math inline">\((A,B)\)</span> be a pair of independent events. Then the pairs <span class="math inline">\((A,B^c), (A^c,B), (A^c,B^c)\)</span> are also independent.</p>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../ch01_foundations/axioms.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Axioms of Probability</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../ch01_foundations/random_variables.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Random variables</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>